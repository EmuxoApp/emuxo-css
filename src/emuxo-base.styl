$box-shadow-input-focus = 0px 0px 4px rgba(0, 0, 0, 0.2)

*
  box-sizing: border-box

body
  margin: 0px

h1, h2, h3, h4, h5, h6
  font-weight: normal

a
  text-decoration: none

code
  background-color: rgba(0, 0, 0, 0.1)

// Table

table
  width: 100%
  border-collapse: separate
  border-spacing: 0

thead
  margin-bottom: 10px
  background-color: rgba(0, 0, 0, 0.04)

  td, th
    padding: 8px 15px

tbody

  tr
    td, th
      border-top: solid 1px rgba(0, 0, 0, 0.05)

  tr:first-child
    td, th
      border-top: none

  tr:hover
    background-color: rgba(0, 0, 0, 0.02)

th
  font-weight: 500
  text-align: left
  color: rgba(0, 0, 0, 0.66)

td
  padding: 15px

@media (max-width: 600px)
  td, th
    padding: 10px

// Form Elements

.em-error-message
  min-height: 1.5em

// Buttons

button
  outline: none
  border: none
  cursor: pointer

button.em-button, a.em-button
  display: inline-block
  padding: 10px 15px
  min-width: 100px
  color: rgba(0, 0, 0, 0.8) // This may be need to changed programmatically - based on background-color chosen during theming.
  font-weight: 700
  text-shadow: -1px 1px rgba(255, 255, 255, 0.2)
  border-radius: 5px

  &:focus
    box-shadow: $box-shadow-input-focus

button.em-button-link
  display: inline
  padding: 0
  margin: 0
  background: none

button.em-button, button.em-button-link
  &:disabled
      opacity: 0.4
      cursor: not-allowed

.button-container
  display: flex
  justify-content: flex-end

// Textbox + Textarea

.em-textbox, .em-textarea
  display: inline-block
  width: 345px // So 2 textboxes take up full width of em-row.

  label
    margin: 0 0 0 2px
    display: block

  input, textarea
    display: block
    width: 100%
    margin: 5px 0 0 0
    padding: 10px
    border: none
    outline: none
    background-color: rgba(0, 0, 0, 0.05)
    border-radius: 5px

    &:focus
      background-color: rgba(0, 0, 0, 0.03)
      box-shadow: $box-shadow-input-focus

    &:disabled
      background: none
      cursor: not-allowed

  textarea
    height: 5em

  p
    color: grey
    margin: 5px 0 0 2px
    &:first-child
      min-height: 1.5em

// Checkbox

.em-checkbox
  display: flex
  position: relative // So we can hide <input type="checkbox">.
  cursor: pointer

  input[type="checkbox"]
    // Hide the <input> but preserve tab-ability.
    opacity: 0
    z-index: -1
    position: absolute

  > span
    display: inline-block
    vertical-align: top

  input[type="checkbox"] + span
    max-height: 2.2em
    padding: 6px 12px 10px 12px
    border: solid 2px rgba(0, 0, 0, 0.1)
    border-radius: 5px
    transition: background-color 250ms ease-in

  // A CSS checkmark from https://codepen.io/lajlev/pen/diKbz.
  span span.em-checkbox-check
    display: block
    width: 10px
    height: 20px
    border: solid #fff
    border-width: 0 2px 2px 0
    transform: rotate(45deg)

  input[type="checkbox"] + span span.em-checkbox-check
    opacity: 0

  input[type="checkbox"]:checked + span
    border: solid 2px rgba(0, 0, 0, 0)

  input[type="checkbox"]:checked + span span.em-checkbox-check
    opacity: 1

  input[type="checkbox"]:focus + span
    outline: none
    box-shadow: $box-shadow-input-focus

  input[type="checkbox"]:disabled
    + span
    + span + span
      opacity: 0.5
      cursor: not-allowed

  span:nth-child(3)
    margin: 6px 0 0 10px

// Selection

.em-selection

  input
    display: none

  input[type="radio"] + span
    display: inline-block
    margin: 10px 10px 0 0
    color: rgb(0, 0, 0)
    opacity: 0.7
    cursor: pointer

    &:hover
      opacity: 1

  input[type="radio"]:checked + span
    opacity: 1

  input[type="radio"]:disabled + span
    opacity: 0.5
    cursor: not-allowed

// Dropdown

.em-dropdown
  position: relative
  width: 345px

  p
    color: grey
    margin: 5px 0 0 2px
    &:first-child
      min-height: 1.5em

.em-dropdown-backdrop
  position: fixed
  top: 0
  left: 0
  width: 100%
  height: 100%
  z-index: 10

.em-dropdown-selection
  position: relative // So z-index will work.
  display: flex
  margin: 5px 0 0 0
  align-items: center
  padding: 10px
  background-color: rgba(0, 0, 0, 0.05)
  border-radius: 5px
  cursor: pointer
  z-index: 20

  &:focus
    background-color: rgba(0, 0, 0, 0.03)
    box-shadow: $box-shadow-input-focus
    outline: none

  span:first-child
    flex: 1
    white-space: nowrap

  span:nth-child(2)
    flex: none
    padding: 0 5px 5px 0

.em-dropdown-selection-empty
  color: rgba(132, 132, 132, 1)

.em-dropdown-chevron
  display: inline-block
  width: 9px
  height: 9px
  border: solid black
  border-width: 0 2px 2px 0
  transform: rotate(45deg)

.em-dropdown-options
  position: absolute
  margin: 9px 0 0 0
  width: 345px
  max-width: 100%
  max-height: 168px
  overflow-y: scroll
  background-color: rgba(217, 217, 217, 1)
  border-radius: 5px
  box-shadow: $box-shadow-input-focus
  z-index: 20

  input
    display: none

  label
    display: block
    padding: 10px
    color: rgb(0, 0, 0)
    opacity: 0.7
    cursor: pointer
    z-index: 20

    &:hover
      background-color: rgba(0, 0, 0, 0.05)
      opacity: 1

    &:focus
      background-color: rgba(0, 0, 0, 0.2)
      opacity: 1
      outline: none

// Modal

.em-modal-backdrop
  position: fixed
  top: 0
  left: 0
  height: 100%
  width: 100%
  background-color: rgba(255, 255, 255, 0.9)
  z-index: 50

.em-modal
  position: relative
  margin: 50px auto 0 auto
  padding-top: 30px;
  padding-bottom: 15px;
  width: 90%;
  max-width: 600px
  max-height: 90%
  z-index: 100
  background-color: white
  box-shadow: 0 0 30px 10px rgba(0, 0, 0, 0.1)
  border-radius: 10px
  overflow-y: scroll

  > *
    position: relative // So z-index will work.
    z-index: 100
    padding-left: 15px
    padding-right: 15px

  .em-modal-close
    position: absolute
    top: 15px
    right: 15px
    background: none
    z-index: 101

@media (max-width: 600px), (max-height: 600px)

  .em-modal
    margin-top: 15px

// Dashboard + Navigation

.em-dashboard
  height: 100vh

.em-dashboard-main, .em-dashboard-nav
  vertical-align: top

.em-dashboard-main
  display: inline-block
  width: 80%
  height: 100vh
  overflow-y: scroll

.em-dashboard-mobilenavopener
  display: none
  width: 100%
  padding: 20px
  text-align: right

.em-dashboard-nav
  display: inline-block
  width: 20%
  height: 100vh
  &.em-dashboard-nav-tall
    overflow-y: scroll

  .em-dashboard-nav-close
    display: none
    margin-bottom: 20px
    text-align: right

    span
      padding: 0px

  nav
    margin: auto
    max-width: 200px
    padding: 40px 20px 20px 20px
    margin: auto

  nav div
    white-space: initial
    overflow: hidden
    text-overflow: ellipsis

  nav ul
    padding: 0
    list-style: none

  nav ul li
    padding: 8px 0
    overflow: hidden
    overflow-wrap: break-word

    .em-dashboard-nav-active-link
      border-bottom: solid 2px

@media(min-width:1500px)

  .em-dashboard-nav
    padding-left: 5%

  .em-dashboard-main
    padding-right: 20%

@media(max-width:700px)

  .em-dashboard-main
    width: 100%
    height: auto
    overflow: visible

  .em-dashboard-mobilenavopener
    display: block

  .em-dashboard-nav
    position: fixed
    top: 0
    left: 0
    width: 100%
    overflow: auto
    z-index: 100
    background-color: rgb(229, 229, 229)

    &.em-dashboard-nav-closed
      display: none

    nav
      padding: 20px
      max-width: 400px

      .em-dashboard-nav-close
        display: block
